{
  "version": 3,
  "file": "bundle.css",
  "sources": [
    "../Riders.svelte",
    "../Edit.svelte",
    "../Packages.svelte"
  ],
  "sourcesContent": [
    "<script>\n    import { Router, Route, Link } from \"svelte-routing\"\n    import Packages from \"./Packages.svelte\"\n    import Edit from \"./Edit.svelte\"\n\n    const [uid] = location.pathname.split(\"/\").slice(-1)\n\n    $: user = null\n\n    async function getUser(uid) {\n\t\tconst $user = await fetch(`/users/${uid}/packages`)\n        user = await $user.json()\n\t\treturn user\n\t}\n</script>\n<section>\n    <Router>\n        <Route path=\"/users/:uid\" let:params>\n            {#await getUser(uid)}\n                <p>...fetching packages</p>\n            {:then user}\n                <Packages user={user} />\n            {/await}\n        </Route>\n        <Route path=\"/users/:uid/packages/:pid/editor\" let:params>\n            <Edit uid={params.uid} pid={params.pid} /> \n        </Route>\n    </Router>\n</section>\n<style>\n* {\n    padding: 0;\n    margin: 0;\n}\n</style>",
    "<script>\n    import { Link } from \"svelte-routing\"\n    import marked from \"marked\"\n    \n    export let uid\n    export let pid\n\n    $: _package = getPackage(pid)\n    $: page = 1\n    $: pages = [\"\"]\n    $: html = marked(pages[page - 1])\n    $: showPreview = false\n    $: saving = false\n\n    const togglePreview = () => (showPreview = !showPreview)\n\n    async function getPackage (pid) {\n        const [result] = await fetch(`/users/${uid}/packages/${pid}`)\n            .then(res => res.json())\n            .catch(console.error)\n        _package = result\n        pages = _package.pages.map(({markdown}) => atob(markdown))\n        return result\n    }\n\n    function onSave (_package, markdown) {\n        saving = true\n\n        const body = {..._package.pages[page - 1], markdown: btoa(pages[page - 1])}\n\n        const payload = {\n\t\t\tmethod: 'post',\n\t\t\theaders: new Headers({'content-type': 'application/json'}),\n\t\t\tbody: JSON.stringify(body)\n        }\n\n        fetch(`/users/${uid}/packages/${pid}/pages/${body.uid}`, payload)\n            .then(() => (saving = false))\n            .catch(console.error)\n    }\n\n    function addPage () {\n        saving = true\n\n        fetch(`/users/${uid}/packages/${pid}/pages/new`)\n            .then(res => res.json())\n            .then(page => {\n                pages.push(page)\n                page = pages.length + 1\n                saving = false\n            })\n            .catch(console.error)\n    }\n\n    const nextPage = () => page + 1 > pages.length ? page : page += 1\n    const prevPage = () => page - 1 === 0 ? 1 : page -= 1\n</script>\n<section class=\"editor\">\n    <nav>\n        <Link to={`/users/${uid}`}>Exit</Link>\n    </nav>\n    <section class=\"editor-flip-frame\" style=\"transform: rotateY({showPreview ? \"180\" : \"0\"}deg);\">\n        {#await _package}\n            <article class=\"edit\">\n                <p>... fetching package {pid}</p>\n            </article>\n        {:then _package}\n            <article class=\"edit\">\n                <h1>{_package.title} {page} of {pages.length}</h1>\n                <textarea id=\"markdown\" name=\"markdown\" focus=true bind:value={pages[page - 1]}></textarea>\n                <nav>\n                    <button disabled={saving} on:click={e => onSave(_package, pages[page - 1])}>Save{saving ? \"ing...\" : \"\"}</button>\n                    <button on:click={togglePreview}>Preview</button>\n                    <button disabled={page === 1} on:click={prevPage}>prev</button>\n                    <button disabled={page === pages.length} on:click={nextPage}>next</button>\n                    <button disabled={saving} on:click={addPage}>+</button>\n                </nav>\n            </article>\n            <article class=\"preview\">\n                <article id=\"html\">{@html html}</article>\n                <nav>\n                    <button on:click={togglePreview}>Exit Preview</button>\n                </nav>\n            </article>\n        {/await}\n    </section>\n</section>\n<style>\n    .editor {\n        margin: auto;\n        background-color: transparent;\n        width: 90vw;\n        height: 80vh;\n        perspective: 2000px;\n    }\n    .editor-flip-frame {\n        position: relative;\n        width: 100%;\n        height: 100%;\n        border: solid 2px black;\n        text-align: center;\n        transition: transform 0.6s cubic-bezier(0.13, 0.77, 0.81, 1.21);\n        transform-style: preserve-3d;\n    }\n    .edit {\n        position: absolute;\n        width: 100%;\n        height: 100%;\n        backface-visibility: hidden;\n        background-color: hotpink;\n        display: flex;\n        flex-direction: column;\n        overflow-y: scroll;\n    }\n    .preview {\n        position: absolute;\n        width: 100%;\n        height: 100%;\n        backface-visibility: hidden;\n        background-color: lime;\n        transform: rotateY(180deg);\n        display: flex;\n        flex-direction: column;\n    }\n    #markdown, #html {\n        border-color: transparent;\n        resize: none;\n        background-color: salmon;\n        padding: 1rem;\n        font-family: 'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif;\n        line-height: 1.25rem;\n        flex: 1 1 auto;\n        min-width: 0;\n        min-height: 0;\n        overflow-y: scroll;\n        text-align: left;\n    }\n    button {\n        width: 7rem;\n        background-color: red;\n        color: white;\n        border-color: transparent;\n        padding: 0.5rem;\n        margin: 0.25rem;\n        border-radius: 2px;\n    }\n    button:disabled {\n        opacity: 0.4;\n    }\n</style>",
    "<script>\n    import {Link} from \"svelte-routing\"\n\n    export let user\n\n    $: showModel = false\n    $: packages = user.packages || []\n\n    function dismissModel(evt) {\n\t\tevt.stopPropagation()\n\t\tshowModel = evt.target.id !== \"model\"\n\t}\n\n\tasync function createPackage(evt) {\n\t\tevt.preventDefault()\n\t\t\n\t\tconst data = new FormData(evt.target)\n\t\t\n\t\tshowModel = false\n\t\t\n\t\tconst payload = {\n\t\t\tmethod: 'post',\n\t\t\theaders: new Headers({'content-type': 'application/json'}),\n\t\t\tbody: JSON.stringify({title: data.get('title')})\n\t\t}\n\t\t\n\t\tfetch(`/users/${user.uid}/packages`, payload)\n\t\t\t.then(res => res.json())\n\t\t\t.then(_package_ => (packages = [...packages, _package_]))\n\t\t\t.catch(console.error)\n\t}\n\t\n\tasync function deletePackage (evt) {\n\t\tevt.preventDefault()\n\n\t\tfetch(`/users/${user.uid}/packages/${this.value}/delete`)\n\t\t\t.then(res => res.json())\n\t\t\t.then(_packages => (packages = _packages))\n\t\t\t.catch(console.error)\n\t}\n\n</script>\n<section>\n    <h1>\n        <img src={user.picture} alt=\"avatar\" /> {user.name}\n    </h1>\n    {#each packages as {uid, title, createdAt}}\n        <Link to={`/users/${user.uid}/packages/${uid}/editor`}>\n            <article>\n                <h2>{title}</h2>\n                <small>{createdAt}</small>\n\t\t\t\t<button value={uid} on:click={deletePackage}>Delete</button>\n            </article>\n        </Link>\n    {/each}\n    <article class=\"create-package\" on:click={e => showModel = true}>\n        <h2>new</h2>\n    </article>\n    {#if showModel}\n\t\t<section id=\"model\" on:click={dismissModel}>\n\t\t\t<form on:submit={createPackage}>\n\t\t\t\t<h1>Create a new SCORM package</h1>\n\t\t\t\t<article>\n\t\t\t\t\t<input name=\"title\" placeholder=\"Title\" required />\n\t\t\t\t</article>\n\t\t\t\t<button>Create</button>\n\t\t\t</form>\n\t\t</section>\n\t{/if}\n</section>\n<style>\n    h1 {\n        display: flex;\n        align-items: center;\n    }\n    h1 img {\n        margin-right: 1rem;\n        width: 2rem;\n        height: 2rem;\n        border-radius: 50%;\n        border: solid 2px black;\n    }\n    article {\n        width: 12rem;\n        height: 6rem;\n        background-color: antiquewhite;\n        border-radius: 3px;\n        padding: 1rem;\n        margin: 0.5rem;\n        display: inline-block;\n    }\n    article.create-package {\n        cursor: pointer;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        opacity: 0.5;\n    }\n    #model {\n\t\tbackground-color: rgba(0,0,0,0.7);\n\t\tposition: fixed;\n\t\ttop: 0;\n\t\tbottom: 0;\n\t\tright: 0;\n\t\tleft: 0;\n\t\tz-index: 1;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t}\n\t#model form {\n\t\twidth: 65vw;\n\t\theight: 50vh;\n\t\tborder-radius: 3px;\n\t\tborder: solid 2px black;\n\t\tpadding: 2rem;\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tjustify-content: end;\n\t\tbackground-color: white;\n\t\tz-index: 2;\n\t}\n\t#model form article {\n\t\tflex: 1 1 auto;\n\t\tmin-width: 0;\n\t\tmin-height: 0;\n\t}\n\t#model form > article input {\n\t\twidth: calc(100% - 2rem);\n\t\tpadding: 1rem;\n\t\tfont-size: 2rem;\n\t\tborder: solid 0px transparent;\n\t\tborder-bottom: solid 2px black;\n\t}\n\t#model form button {\n\t\tfont-size: 1.25rem;\n\t\tpadding: 1rem 2rem;\n\t\tborder-color: transparent;\n\t\tbox-shadow: 1px 1px 2px 2px;\n\t\tcolor: white;\n\t\tbackground-color: darkorange;\n\t}\n</style>"
  ],
  "names": [],
  "mappings": "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"
}